<!DOCTYPE html>
<html lang="ko">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>퀴즈 풀기 - 늘봄 건강 퀴즈</title>
  <link rel="stylesheet" href="style.css">
</head>
<body>
  <div class="container">
    <img src="assets/img/logo.png" alt="늘봄 로고" class="logo-small">
    <button class="home-button" onclick="goHome()">
      ⬅ 홈으로 돌아가기
    </button>
    <div class="quiz-box">
      <div class="quiz-header">
        <div class="points">
          현재 포인트: <span id="points">0</span>P
        </div>
        <div id="points-action" style="display: none;">
          <button onclick="requestExchange()" id="exchange-button" class="secondary-button" style="display: none;">
            ✨ 포인트 전환 신청하기
          </button>
          <div id="points-insufficient" class="points-notice" style="display: none;">
            포인트가 부족합니다 😢
          </div>
        </div>
        <div class="quiz-progress">
          <span id="progress-text">1/20</span>
          <div class="progress-bar">
            <div id="progress-fill" class="progress-fill" style="width: 5%"></div>
          </div>
        </div>
      </div>

      <div id="quiz-box">
        <div id="loading" class="loading" style="display: none;"></div>
        <h2 id="question">문제 로딩 중...</h2>
        <div class="emotion-bar">
          <span class="emotion-message">잘 모르셔도 괜찮아요. 오늘도 함께해요.</span>
        </div>
        <div id="timer-bar"><div id="timer-fill"></div></div>
        <ul id="answers"></ul>
        <div id="explanation"></div>
      </div>

      <div id="explanation-popup" class="popup">
        <div class="popup-content">
          <div id="popup-emoji" class="popup-emoji"></div>
          <div id="popup-result" class="popup-result"></div>
          <div id="popup-explanation" class="popup-explanation"></div>
          <div id="popup-points" class="popup-points"></div>
        </div>
      </div>

      <div id="quiz-complete" class="quiz-complete" style="display: none;">
        <h2>오늘 나에게 건강한 선택을 선물했네요 :)</h2>
        <div class="quiz-stats">
          <div class="stat-card">
            <h4>총 점수</h4>
            <div class="stat-value"><span id="final-points">0</span>P</div>
          </div>
          <div class="stat-card">
            <h4>정답률</h4>
            <div class="stat-value"><span id="accuracy">0</span>%</div>
          </div>
          <div class="stat-card">
            <h4>소요 시간</h4>
            <div class="stat-value"><span id="time-taken">0</span>초</div>
          </div>
        </div>
        <div id="exchange-box" style="display: none;">
          🎉 축하합니다! 5000P 이상 달성했습니다!<br />
          <button onclick="requestExchange()" class="primary-button">
            적립금으로 전환하기
          </button>
        </div>
        <button onclick="goHome()" class="primary-button">
          처음으로 돌아가기
        </button>
        <p class="footer-text">작은 습관이, 결국 가장 멀리 갑니다.</p>
      </div>
    </div>
  </div>

  <script src="script.js"></script>
</body>
</html>
