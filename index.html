<!DOCTYPE html>
<html lang="ko">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>ëŠ˜ë´„ ê±´ê°• í€´ì¦ˆ</title>
  <link rel="stylesheet" href="style.css" />
  <link rel="manifest" href="manifest.json" />
  <style>
    .link-copy-btn {
      display: flex;
      align-items: center;
      justify-content: center;
      gap: 8px;
      width: 100%;
      max-width: 320px;
      height: 60px;
      margin: 24px auto 0 auto;
      background-color: #e0ede3;
      border-radius: 999px;
      color: #356c55;
      font-size: 16px;
      font-weight: 600;
      border: none;
      cursor: pointer;
      transition: background-color 0.2s ease, box-shadow 0.2s;
      box-shadow: 0 2px 5px rgba(0,0,0,0.05);
    }
    .link-copy-btn:hover {
      background-color: #d0e5d6;
      box-shadow: 0 4px 12px rgba(53,108,85,0.08);
    }
    .link-copy-btn img {
      width: 22px;
      height: 22px;
      vertical-align: middle;
    }
    @media (max-width: 480px) {
      .link-copy-btn {
        max-width: 95vw;
        height: 48px;
        font-size: 15px;
      }
      .link-copy-btn img {
        width: 18px;
        height: 18px;
      }
    }
    #copy-msg {
      display:none;
      color:#2e7d32;
      font-weight:bold;
      font-size:1.1em;
      margin-top:10px;
    }
  </style>
</head>
<body>
  <div class="container">
    <img src="assets/img/logo.png" alt="ëŠ˜ë´„ ë¡œê³ " class="logo">
    
    <div class="start-screen">
      <h1 class="main-title">ë‚˜ë¥¼ ìœ„í•œ ì‘ì€ ìŠµê´€ì˜ ë³€í™”, ëŠ˜ë´„</h1>
      <p class="sub-title">ì˜¤ëŠ˜ë„ ë‚˜ë¥¼ ëŒë³´ëŠ” ê°€ì¥ ì‰¬ìš´ ë°©ë²•, ì‹œì‘í•´ë³¼ê¹Œìš”?</p>

      <div style="text-align:center;">
        <button class="link-copy-btn" onclick="copyLink()">
          <img src="assets/img/link-icon.png" alt="ë§í¬ ì•„ì´ì½˜" />
          ê°™ì´ í•˜ëŸ¬ ê°€ê¸° ğŸ’¬
        </button>
        <div id="copy-msg">ë³µì‚¬ë˜ì—ˆìŠµë‹ˆë‹¤!</div>
      </div>

      <div class="points-info">
        <p class="current-points">
          ğŸ’š í˜„ì¬ ë‚˜ì˜ ìŠµê´€ í¬ì¸íŠ¸: <strong class="point-value" id="points">0</strong>P
        </p>
        
        <div class="points-guide">
          <p class="point-main-text">
            ğŸ“Œ <strong class="point-highlight">5,000í¬ì¸íŠ¸</strong>ë¥¼ ë‹¬ì„±í•˜ë©´
            <strong>ëŠ˜ë´„ëª° ì ë¦½ê¸ˆìœ¼ë¡œ ì „í™˜</strong>í•  ìˆ˜ ìˆì–´ìš”!
          </p>
          <p class="point-sub-text">
            í™˜ì „ ì‹ ì²­ ë²„íŠ¼ì€ <strong class="point-emphasis">5,000P ì´ìƒ</strong>ì¼ ë•Œ ìë™ìœ¼ë¡œ í™œì„±í™”ë©ë‹ˆë‹¤
          </p>
        </div>

        <div id="points-action">
          <button onclick="location.href='quiz.html'" class="primary-button">
            ì˜¤ëŠ˜ì˜ ê±´ê°• ë£¨í‹´ ì‹œì‘í•˜ê¸° â†’
          </button>
          <button onclick="requestExchange()" id="exchange-button" class="secondary-button" style="display: none;">
            âœ¨ í¬ì¸íŠ¸ ì „í™˜ ì‹ ì²­í•˜ê¸°
          </button>
          <button onclick="window.open('https://smartstore.naver.com/jinjjamall', '_blank')" class="secondary-button" style="margin-top:10px;">
            ğŸ›’ ëŠ˜ë´„ì‹í’ˆ ë°”ë¡œê°€ê¸°
          </button>
          <div id="points-insufficient" class="points-notice" style="display: none;">
            í¬ì¸íŠ¸ê°€ ë¶€ì¡±í•©ë‹ˆë‹¤ ğŸ˜¢
          </div>
        </div>
      </div>

      <div class="card-grid">
        <div class="info-card">
          <span class="emoji">âœ¨</span>
          <h3>ì‘ì€ ì‹¤ì²œ</h3>
          <p>ì‹¤ì²œí• ìˆ˜ë¡ ìŒ“ì´ëŠ” ìŠµê´€ í¬ì¸íŠ¸<br>ì˜¤ëŠ˜ì˜ ë‚˜ë¥¼ ìœ„í•œ ì‘ì€ íˆ¬ì</p>
        </div>
        <div class="info-card">
          <span class="emoji">ğŸŒ±</span>
          <h3>ê±´ê°•í•œ ë£¨í‹´</h3>
          <p>ì ê¹ì˜ ì—¬ìœ , ë‚˜ë¥¼ ì±™ê¸°ëŠ” ìŠµê´€<br>í•˜ë£¨ í•œ ë²ˆì¯¤, ë‚˜ë¥¼ ìœ„í•œ ì²´í¬íƒ€ì„!</p>
        </div>
        <div class="info-card">
          <span class="emoji">ğŸ</span>
          <h3>ë‚˜ë¥¼ ìœ„í•œ ì„ ë¬¼</h3>
          <p>ê±´ê°• í€´ì¦ˆë¡œ ì•Œì•„ë³´ëŠ” ë‚´ ëª¸ ì‚¬ìš© ì„¤ëª…ì„œ<br>ì•Œë©´ ì§€í‚¤ê²Œ ë˜ëŠ” ê±´ê°• ìƒì‹!</p>
        </div>
      </div>

      <p class="footer-quote">ì‘ì€ ìŠµê´€ì´, ê²°êµ­ ê°€ì¥ ë©€ë¦¬ ê°‘ë‹ˆë‹¤</p>
    </div>
  </div>

  <a href="health_quiz_set_all.json" download style="display:block;margin:20px 0;font-size:1.1em;color:#007bff;">ë¬¸ì œ ì „ì²´ JSON ë‹¤ìš´ë¡œë“œ (ë¡œì»¬ í…ŒìŠ¤íŠ¸ìš©)</a>

  <script>
    // ê°œë°œ ì¤‘ í¬ì¸íŠ¸ ë¦¬ì…‹ (ì£¼ì„ í•´ì œí•˜ì—¬ ì‚¬ìš©)
    // localStorage.removeItem('points');

    let currentIndex = 0;
    let points = parseInt(localStorage.getItem('points')) || 0;
    let questions = [];
    let usedQuestions = new Set(); // í’€ì—ˆë˜ ë¬¸ì œë“¤ì„ ê¸°ë¡í•  Set
    let allQuestions = []; // ì „ì²´ ë¬¸ì œ í’€ì„ ì €ì¥í•  ë°°ì—´
    let timer;
    let timeLeft = 15;
    let isAnswering = false;
    let startTime;
    let correctAnswers = 0;

    // íš¨ê³¼ìŒ ì´ˆê¸°í™”
    const soundClick = new Audio('assets/sounds/click.mp3');
    const soundCorrect = new Audio('assets/sounds/correct.mp3');
    const soundWrong = new Audio('assets/sounds/wrong.mp3');

    // ì‚¬ìš©ì ìƒí˜¸ì‘ìš© í›„ íš¨ê³¼ìŒ í™œì„±í™”
    document.body.addEventListener('click', () => {
      soundClick.play().catch(() => {}); // ë³´ì•ˆ ì •ì±… ìš°íšŒ
    }, { once: true });

    // ë°°ê²½ ì´ë¯¸ì§€ ëœë¤ ì ìš©
    const bgList = [
      "assets/img/background/close-up-white-flowering-plant-against-wall.jpg",
      "assets/img/background/still-life-minimalist-lifestyle.jpg",
      "assets/img/background/white-rose-blooming-against-wall.jpg",
      "assets/img/background/view-rose-flowers-condensed-glass.jpg",
      "assets/img/background/modern-minimalist-living-room.jpg"
    ];

    // ì‘ì› ë©”ì‹œì§€ ëª©ë¡
    const feedbackTexts = {
      correct: [
        "ì •ë‹µì´ì—ìš”! +15ì  ì ë¦½ ğŸ¯",
        "ì¢‹ì€ ì„ íƒì´ì—ìš”! ê±´ê°• ì§€ì‹ì´ ìŒ“ì—¬ê°€ìš” âœ¨",
        "ì™„ë²½í•´ìš”! ì˜¤ëŠ˜ë„ ê±´ê°•í•œ ì„ íƒ ğŸ’š",
        "ì •ë‹µì…ë‹ˆë‹¤! ê±´ê°• ë£¨í‹´ì´ ë§Œë“¤ì–´ì§€ê³  ìˆì–´ìš” ğŸŒ±"
      ],
      wrong: [
        "ì¡°ê¸ˆ ì•„ì‰½ì§€ë§Œ ê´œì°®ì•„ìš”! -5ì  ğŸ˜… ë‹¤ìŒì—” ê¼­ ë§í ìˆ˜ ìˆì–´ìš”",
        "í‹€ë ¸ì§€ë§Œ ë°°ìš°ëŠ” ê³¼ì •ì´ì—ìš”! í•¨ê»˜ ì„±ì¥í•´ìš” ğŸ’ª",
        "ì•„ì‰½ë„¤ìš”, í•˜ì§€ë§Œ ë„ì „í•˜ëŠ” ë‹¹ì‹ ì´ ë©‹ì ¸ìš” âœ¨",
        "ê´œì°®ì•„ìš”, í‹€ë¦° ë¬¸ì œëŠ” ë” ì˜¤ë˜ ê¸°ì–µëœë‹µë‹ˆë‹¤ ğŸ’¡"
      ]
    };

    document.addEventListener("DOMContentLoaded", () => {
      // í˜„ì¬ í˜ì´ì§€ê°€ quiz.htmlì¸ ê²½ìš°ì—ë§Œ í€´ì¦ˆ ê´€ë ¨ ì½”ë“œ ì‹¤í–‰
      if (window.location.pathname.includes('quiz.html')) {
        // ë°°ê²½ ì´ë¯¸ì§€ ëœë¤ ì ìš©
        const selectedBg = bgList[Math.floor(Math.random() * bgList.length)];
        document.body.style.backgroundImage = `url('${selectedBg}')`;
        document.body.style.backgroundPosition = 'center';
        document.body.style.backgroundSize = 'cover';
        
        startTime = Date.now();
        showLoading(true);
        
        // í˜„ì¬ ê²½ë¡œ ê¸°ì¤€ìœ¼ë¡œ JSON íŒŒì¼ ê²½ë¡œ ë§Œë“¤ê¸°
        const basePath = window.location.pathname.replace(/\/[^\/]*$/, "/");
        
        // ì„¸ ê°œì˜ í€´ì¦ˆ íŒŒì¼ì„ ëª¨ë‘ ë¶ˆëŸ¬ì™€ í•©ì¹˜ê¸°
        Promise.all([
          fetch(`${basePath}health_quiz_set_all.json`).then(res => res.json()),
          fetch(`${basePath}quiz1.json`).then(res => res.json()),
          fetch(`${basePath}quiz2.json`).then(res => res.json()),
          fetch(`${basePath}quiz3.json`).then(res => res.json())
        ]).then(([allList, quiz1List, quiz2List, quiz3List]) => {
          const merged = [...allList, ...quiz1List, ...quiz2List, ...quiz3List];
          const uniqueQuestions = Array.from(new Map(merged.map(q => [q.question, q])).values());
          // ë¬¸ì œë¥¼ ëœë¤ìœ¼ë¡œ ì„ê¸°
          allQuestions = uniqueQuestions.sort(() => Math.random() - 0.5);
          questions = allQuestions;
          showLoading(false);
          showQuestion();
          updatePoints();
          updateProgress();
        });
      }
    });

    function showLoading(show) {
      const loading = document.getElementById('loading');
      const quizContent = document.getElementById('quiz-box').children;
      
      loading.style.display = show ? 'block' : 'none';
      Array.from(quizContent).forEach(element => {
        if (element.id !== 'loading') {
          element.style.opacity = show ? '0.5' : '1';
        }
      });
    }

    function updateProgress() {
      const progressText = document.getElementById('progress-text');
      const progressFill = document.getElementById('progress-fill');
      const progress = ((currentIndex + 1) / questions.length) * 100;
      
      progressText.textContent = `${currentIndex + 1}/${questions.length}`;
      progressFill.style.width = `${progress}%`;
    }

    function showQuestion() {
      if (isAnswering) return;
      
      clearInterval(timer);
      timeLeft = 15;
      document.getElementById("timer-fill").style.width = "100%";

      const q = questions[currentIndex];
      if (!q) {
        finishQuiz();
        return;
      }

      // í˜„ì¬ ë¬¸ì œë¥¼ usedQuestionsì— ì¶”ê°€
      usedQuestions.add(q.question);

      updateProgress();
      
      const quizBox = document.getElementById("quiz-box");
      
      document.getElementById("question").textContent = q.question;
      const answersList = document.getElementById("answers");
      answersList.innerHTML = "";
      document.getElementById("explanation").innerHTML = "";
      document.getElementById("explanation").classList.remove("show");

      const options = [q.correct, ...q.wrong].sort(() => Math.random() - 0.5);
      options.forEach(option => {
        const li = document.createElement("li");
        li.textContent = option;
        li.onclick = () => {
          if (isAnswering) return;
          handleAnswer(option, q);
        };
        answersList.appendChild(li);
      });

      quizBox.style.opacity = "1";

      timer = setInterval(() => {
        timeLeft--;
        document.getElementById("timer-fill").style.width = (timeLeft * 6.67) + "%";
        if (timeLeft <= 0) {
          clearInterval(timer);
          handleAnswer(null, q);
        }
      }, 1000);
    }

    function handleAnswer(selected, question) {
      if (isAnswering) return;
      isAnswering = true;
      clearInterval(timer);

      try {
        soundClick.play().catch(() => {});
      } catch (e) {}

      const popup = document.getElementById("explanation-popup");
      const popupEmoji = document.getElementById("popup-emoji");
      const popupResult = document.getElementById("popup-result");
      const popupExplanation = document.getElementById("popup-explanation");
      const popupPoints = document.getElementById("popup-points");
      
      const answers = document.querySelectorAll("#answers li");
      
      answers.forEach(li => {
        if (li.textContent === question.correct) {
          li.classList.add("correct");
        } else if (li.textContent === selected) {
          li.classList.add("wrong");
        }
        li.style.pointerEvents = "none";
      });

      if (selected === question.correct) {
        correctAnswers++;
        points += 15;
        if (points < 0) points = 0;
        localStorage.setItem("points", points);
        
        popupEmoji.textContent = "ğŸ‰";
        popupResult.textContent = "ì •ë‹µì´ì—ìš”!";
        popupExplanation.textContent = question.explanation;
        popupPoints.innerHTML = `
          <div class="point-change">+15P</div>
          <div class="total-points">í˜„ì¬ ì´ ${points}P</div>
        `;
        popupPoints.style.color = "#28a745";
        
        try {
          soundCorrect.play().catch(() => {});
        } catch (e) {}
      } else {
        points -= 5;
        if (points < 0) points = 0;
        localStorage.setItem("points", points);
        
        popupEmoji.textContent = "ğŸ’ª";
        popupResult.textContent = "ì•„ì‰½ì§€ë§Œ í‹€ë ¸ì–´ìš”";
        popupExplanation.textContent = `ì •ë‹µ: ${question.correct}\n${question.explanation}`;
        popupPoints.innerHTML = `
          <div class="point-change">-5P</div>
          <div class="total-points">í˜„ì¬ ì´ ${points}P</div>
        `;
        popupPoints.style.color = "#dc3545";
        
        try {
          soundWrong.play().catch(() => {});
        } catch (e) {}
      }

      popup.classList.add("show");
      updatePoints();

      // 3ì´ˆ í›„ íŒì—… ë‹«ê³  ë‹¤ìŒ ë¬¸ì œë¡œ
      setTimeout(() => {
        popup.classList.remove("show");
        currentIndex++;
        isAnswering = false;
        showQuestion();
      }, 3000);
    }

    function updatePoints() {
      const pointsDisplay = document.getElementById("points");
      if (!pointsDisplay) return;  // points ìš”ì†Œê°€ ì—†ìœ¼ë©´ í•¨ìˆ˜ ì¢…ë£Œ
      
      const oldPoints = parseInt(pointsDisplay.textContent);
      const diff = points - oldPoints;
      
      if (diff > 0) {
        animatePoints(oldPoints, points, 1000);
      } else {
        pointsDisplay.textContent = points;
      }

      // í˜„ì¬ í˜ì´ì§€ê°€ quiz.htmlì¸ ê²½ìš°ì—ë§Œ exchange ë²„íŠ¼ ì—…ë°ì´íŠ¸
      if (window.location.pathname.includes('quiz.html')) {
        const pointsAction = document.getElementById("points-action");
        const exchangeButton = document.getElementById("exchange-button");
        const pointsInsufficient = document.getElementById("points-insufficient");
        
        if (pointsAction) {
          pointsAction.style.display = "block";
          
          if (exchangeButton && pointsInsufficient) {
            if (points >= 5000) {
              exchangeButton.style.display = "block";
              pointsInsufficient.style.display = "none";
            } else {
              exchangeButton.style.display = "none";
              pointsInsufficient.style.display = "block";
            }
          }
        }
      }
    }

    function animatePoints(start, end, duration) {
      const pointsDisplay = document.getElementById("points");
      const startTime = performance.now();
      
      function update(currentTime) {
        const elapsed = currentTime - startTime;
        const progress = Math.min(elapsed / duration, 1);
        
        const currentPoints = Math.floor(start + (end - start) * progress);
        pointsDisplay.textContent = currentPoints;
        
        if (progress < 1) {
          requestAnimationFrame(update);
        }
      }
      
      requestAnimationFrame(update);
    }

    function finishQuiz() {
      const quizBox = document.getElementById('quiz-box');
      const quizComplete = document.getElementById('quiz-complete');
      const timeTaken = Math.floor((Date.now() - startTime) / 1000);
      const accuracy = Math.round((correctAnswers / currentIndex) * 100);
      
      document.getElementById('final-points').textContent = points;
      document.getElementById('accuracy').textContent = accuracy;
      document.getElementById('time-taken').textContent = timeTaken;
      
      // ê³„ì†í•˜ê¸° ë²„íŠ¼ ì¶”ê°€
      quizComplete.innerHTML += `
        <div style="margin-top: 20px">
          <button onclick="continueQuiz()" class="primary-button">
            ê³„ì†í•´ì„œ í’€ê¸°
          </button>
        </div>
      `;
      
      quizBox.style.display = 'none';
      quizComplete.style.display = 'block';
      
      // í™˜ì „ ë²„íŠ¼ í‘œì‹œ ì¡°ê±´
      const exchangeBox = document.getElementById('exchange-box');
      if (points >= 5000) {
        exchangeBox.style.display = 'block';
        exchangeBox.innerHTML = `
          <div style="margin-bottom: 16px">
            ğŸ‰ ì¶•í•˜í•©ë‹ˆë‹¤! ${points}Pë¥¼ ëª¨ìœ¼ì…¨ë„¤ìš”!<br/>
            ëŠ˜ë´„ëª°ì—ì„œ ì ë¦½ê¸ˆìœ¼ë¡œ ì „í™˜í•˜ì‹¤ ìˆ˜ ìˆìŠµë‹ˆë‹¤.
          </div>
          <button onclick="requestExchange()" class="primary-button">
            ì ë¦½ê¸ˆìœ¼ë¡œ ì „í™˜í•˜ê¸°
          </button>
        `;
      } else {
        exchangeBox.style.display = 'block';
        exchangeBox.innerHTML = `
          <div style="color: #666; margin: 16px 0">
            5,000P ì´ìƒì´ë©´ ëŠ˜ë´„ëª°ì—ì„œ ì ë¦½ê¸ˆìœ¼ë¡œ ë°”ê¿€ ìˆ˜ ìˆì–´ìš”!<br/>
            (í˜„ì¬ ${points}P / ëª©í‘œ 5,000P)
          </div>
        `;
      }
      
      // í†µê³„ ì¹´ë“œ ì• ë‹ˆë©”ì´ì…˜
      const statCards = document.querySelectorAll('.stat-card');
      statCards.forEach((card, index) => {
        setTimeout(() => {
          card.classList.add('fade-in');
        }, index * 200);
      });
    }

    function requestExchange() {
      const amount = Math.floor(points / 5000) * 5000;
      if (confirm(`${amount}Pë¥¼ ì ë¦½ê¸ˆìœ¼ë¡œ ì „í™˜í•˜ì‹œê² ìŠµë‹ˆê¹Œ?`)) {
        alert('ì „í™˜ ì‹ ì²­ì´ ì ‘ìˆ˜ë˜ì—ˆìŠµë‹ˆë‹¤.\nê´€ë¦¬ì í™•ì¸ í›„ ì ë¦½ê¸ˆìœ¼ë¡œ ì§€ê¸‰ë©ë‹ˆë‹¤.');
      }
    }

    function showExplanation(isCorrect, explanation) {
      const explanationEl = document.getElementById('explanation');
      explanationEl.textContent = explanation;
      explanationEl.style.display = 'block';
      
      // ìë™ìœ¼ë¡œ ì„¤ëª…ì´ ë³´ì´ë„ë¡ ìŠ¤í¬ë¡¤
      setTimeout(() => {
        explanationEl.scrollIntoView({ behavior: 'smooth', block: 'nearest' });
      }, 100);
    }

    // ìƒˆë¡œìš´ ë¬¸ì œ ì„ íƒ í•¨ìˆ˜
    function selectNewQuestions() {
      // ëª¨ë“  ë¬¸ì œë¥¼ ëœë¤ìœ¼ë¡œ ì„ê¸°
      questions = allQuestions.sort(() => Math.random() - 0.5);
    }

    // ê³„ì† í’€ê¸° í•¨ìˆ˜ ìˆ˜ì •
    function continueQuiz() {
      const quizBox = document.getElementById('quiz-box');
      const quizComplete = document.getElementById('quiz-complete');
      
      // ìƒˆë¡œìš´ ë¬¸ì œ ì„ íƒ
      selectNewQuestions();
      currentIndex = 0;
      startTime = Date.now();
      correctAnswers = 0;
      
      quizComplete.style.display = 'none';
      quizBox.style.display = 'block';
      
      showQuestion();
      updateProgress();
    }

    // í™ˆìœ¼ë¡œ ëŒì•„ê°€ê¸° í•¨ìˆ˜ ì¶”ê°€
    function goHome() {
      window.location.href = 'index.html';
    }

    // í¬ì¸íŠ¸ ë¡œë“œ ë° í‘œì‹œ
    document.getElementById('points').textContent = points;
    
    // 5000í¬ì¸íŠ¸ ì´ìƒì´ë©´ ì „í™˜ ë²„íŠ¼ í‘œì‹œ
    if (points >= 5000) {
      document.getElementById('exchange-button').style.display = 'block';
    }
    
    // ë°°ê²½ ì´ë¯¸ì§€ ëœë¤ ì ìš©
    const selectedBg = bgList[Math.floor(Math.random() * bgList.length)];
    document.body.style.backgroundImage = `url('${selectedBg}')`;

    function copyLink() {
      navigator.clipboard.writeText(window.location.href)
        .then(() => {
          const msg = document.getElementById('copy-msg');
          msg.style.display = 'block';
          setTimeout(() => { msg.style.display = 'none'; }, 2000);
        })
        .catch(() => alert("ë³µì‚¬ì— ì‹¤íŒ¨í–ˆì–´ìš” ğŸ˜¥"));
    }

    function requestExchange() {
      const confirmMessage = 'âš ï¸ ì •ë§ í¬ì¸íŠ¸ë¥¼ ì „í™˜í•˜ì‹œê² ìŠµë‹ˆê¹Œ?\n\ní™•ì¸ì„ ëˆ„ë¥´ì‹œë©´ í˜„ì¬ ë³´ìœ  ì¤‘ì¸ ëª¨ë“  í¬ì¸íŠ¸ê°€ ì†Œë©¸ë˜ë©°,\nì „í™˜ ì‹ ì²­ í˜ì´ì§€ë¡œ ì´ë™í•©ë‹ˆë‹¤.\n\nì´ ì‘ì—…ì€ ë˜ëŒë¦´ ìˆ˜ ì—†ìŠµë‹ˆë‹¤.';
      
      if (window.confirm(confirmMessage)) {
        // í¬ì¸íŠ¸ ì´ˆê¸°í™”
        localStorage.setItem('points', '0');
        // í¬ì¸íŠ¸ í‘œì‹œ ì—…ë°ì´íŠ¸
        document.getElementById('points').textContent = '0';
        // ì „í™˜ ë²„íŠ¼ ìˆ¨ê¸°ê¸°
        document.getElementById('exchange-button').style.display = 'none';
        // êµ¬ê¸€ í¼ìœ¼ë¡œ ì´ë™
        setTimeout(() => {
          window.location.href = 'https://docs.google.com/forms/d/e/1FAIpQLSf79U4uayn49L_SMV3KgjnAp8vlP7gx-XJ-v6AnBxveqlIPxg/viewform?usp=header';
        }, 100);
      }
    }
  </script>
</body>
</html>
